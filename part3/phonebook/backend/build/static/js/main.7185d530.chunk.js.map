{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["PersonForm","newName","newNumber","addNameEventHandler","newNameEventHandler","newNumberEventHandler","console","log","onSubmit","value","onChange","type","Filter","search","searchEventHandler","Person","Name","Number","deleteEventHandler","onClick","Persons","persons","filter","person","name","toUpperCase","includes","map","key","id","number","Notification","notice","undefined","className","isError","message","baseUrl","axios","get","then","response","data","newPerson","post","delete","status","put","App","arrangeNotification","setNotification","setTimeout","resetStates","setNewName","setNewNumber","setSearch","excludePerson","setPersons","personItem","useState","notification","useEffect","PersonsService","personsData","catch","error","event","target","preventDefault","thatPerson","find","window","confirm","updatedPerson","personData","alert","createNewObject","concat","Date","toLocaleTimeString","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7185d530.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\n\r\nconst PersonForm = ({ newName, newNumber, addNameEventHandler, newNameEventHandler, newNumberEventHandler }) => {\r\n\tconsole.log('Rendering PersonForm...')\r\n\r\n\treturn (\r\n\t\t<form onSubmit={addNameEventHandler}>\r\n        <div>\r\n          Name: <input value={newName} onChange={newNameEventHandler} />\r\n        </div>\r\n        <div>\r\n          Number: <input value={newNumber} onChange={newNumberEventHandler} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\n\r\n\r\nconst Filter = ({ search, searchEventHandler }) => {\r\n\tconsole.log('Rendering Filter...')\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tfilter shown with <input value={search} onChange={searchEventHandler} />\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Filter","import React from 'react';\r\n\r\n\r\n\r\nconst Person = ({ Name, Number, deleteEventHandler }) => {\r\n\tconsole.log('Rendering Person...')\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{Name} : {Number} <button onClick={deleteEventHandler}>delete</button>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Person","import React  from 'react';\r\nimport Person from './Person'\r\n\r\n\r\n\r\nconst Persons = ({ persons, search, deleteEventHandler }) => {\r\n\tconsole.log('Rendering Persons...')\r\n\r\n\tconst Persons = () => persons.filter(person => search === '' ? true : person.name.toUpperCase().includes(search.toUpperCase())).map(person => <Person key={person.id} Name={person.name} Number={person.number} deleteEventHandler={() => {deleteEventHandler(person)}} />)\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t{Persons()}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Persons","import React from 'react';\r\n\r\n\r\n\r\nconst Notification = ({ notice }) => {\r\n\tif (notice === null || notice === undefined) {\r\n\t\treturn null\r\n\t}\r\n\r\n\treturn (\r\n\t\t<p className={notice.isError === true ? 'error' : 'success'}>\r\n\t\t\t{notice.message}\r\n\t\t</p>\r\n\t)\r\n}\r\n\r\n\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\n\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst erase = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`)\r\n\treturn request.then(response => response.status)\r\n}\r\n\r\nconst update = (person) => {\r\n\tconst request = axios.put(`${baseUrl}/${person.id}`, person)\r\n\treturn request.then(response => response.data)\r\n}\r\n\r\n\r\n\r\nexport default { \r\n\t\t  getAll, \r\n\t\t  create,\r\n\t\t  erase,\r\n\t\t  update\r\n\t\t}","import React, { useState, useEffect } from 'react';\r\nimport PersonForm                     from './components/PersonForm'\r\nimport Filter                         from './components/Filter'\r\nimport Persons                        from './components/Persons'\r\nimport Notification                   from './components/Notification'\r\nimport PersonsService                 from './services/Persons'\r\n\r\n\r\n\r\nconst App = () => {\r\n\r\n\t/* Util Functions */\r\n\tconst createNewObject = (newName, newNumber) => {\r\n\t\treturn {\r\n\t\t\tname: newName,\r\n\t\t\tnumber: newNumber\r\n\t\t}\r\n\t}\r\n\r\n\tconst arrangeNotification = (message, isError = false) => {\r\n\t\tsetNotification({ message, isError })\r\n\t\tsetTimeout(() => { setNotification(null) }, 5000)\r\n\t}\r\n\r\n\tconst resetStates = () => {\r\n\t\tsetNewName('')\r\n\t\tsetNewNumber('')\r\n\t\tsetSearch('')\r\n\t}\r\n\r\n\tconst excludePerson = (id) => {\r\n\t\tsetPersons(persons.filter(personItem => personItem.id !== id))\r\n\t}\r\n\r\n\r\n\t/* Defining States */\r\n\tconst [ persons, setPersons ]           = useState([]) \r\n\tconst [ newName,   setNewName ]         = useState('')\r\n\tconst [ newNumber, setNewNumber ]       = useState('')\r\n\tconst [ search,    setSearch ]          = useState('')\r\n\tconst [ notification, setNotification ] = useState(null)\r\n\r\n\r\n\t/* Using Effect */\r\n\tuseEffect(() => {\r\n\t\tPersonsService\r\n\t\t\t.getAll()\r\n\t\t\t.then(personsData => {\r\n\t\t\t\tsetPersons(personsData)\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tarrangeNotification(\"Error: Can't get persons\", true)\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\r\n\t/* Defining Event Handlers */\r\n\tconst newName_onChange = (event) => {\r\n\t\tsetNewName(event.target.value)\r\n\t}\r\n\r\n\tconst newNumber_onChange = (event) => {\r\n\t\tsetNewNumber(event.target.value)\r\n\t}\r\n\r\n\tconst addName_onSubmit = (event) => {\r\n\t\tevent.preventDefault()\r\n\r\n\t\tconst thatPerson = persons.find(person => person.name === newName)\r\n\r\n\t\tif (thatPerson === undefined) {\r\n\t\t\tPersonsService\r\n\t\t\t\t.create(createNewObject(newName, newNumber))\r\n\t\t\t\t.then(personData => {\r\n\t\t\t\t\tsetPersons(persons.concat(personData))\r\n\t\t\t\t\tconsole.log('Person created', personData)\r\n\t\t\t\t\tarrangeNotification(`Added ${personData.name}`)\r\n\t\t\t\t\tresetStates()\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\tarrangeNotification(\"Error: Can't add a new person. \" + error.response.data.error, true)\r\n\t\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (thatPerson.number === newNumber) {\r\n\t\t\talert(`${newName} is already added to phonebook`)\r\n\t\t\treturn\r\n\t\t} else {\r\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n\t\t\t\tconst updatedPerson = { \r\n\t\t\t\t\t...thatPerson, \r\n\t\t\t\t\tnumber: newNumber\r\n\t\t\t\t}\r\n\r\n\t\t\t\tPersonsService\r\n\t\t\t\t\t.update(updatedPerson)\r\n\t\t\t\t\t.then(personData => {\r\n\t\t\t\t\t\tsetPersons(persons.map(personItem => personItem.id !== personData.id ? personItem : personData))\r\n\t\t\t\t\t\tconsole.log('Person changed', personData)\r\n\t\t\t\t\t\tarrangeNotification(`Changed ${personData.name}`)\r\n\t\t\t\t\t\tresetStates()\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(error => {\r\n\t\t\t\t\t\tarrangeNotification(\"Error: Can't update the person\", true)\r\n\t\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tconst search_onChange = (event) => {\r\n\t\tsetSearch(event.target.value)\r\n\t}\r\n\r\n\tconst delete_onClick = (person) => {\r\n\t\tif (window.confirm(`Delete ${person.name} ?`)) { \r\n\t\t\tPersonsService\r\n\t\t\t.erase(person.id)\r\n\t\t\t.then(status => {\r\n\t\t\t\texcludePerson(person.id)\r\n\t\t\t\tconsole.log('Person deleted', person)\r\n\t\t\t\tarrangeNotification(`Deleted ${person.name}`)\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\texcludePerson(person.id)\r\n\t\t\t\tarrangeNotification(`Information of ${person.name} has already been removed from server.`, true)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n  \r\n\r\n\t/* Rendering Components */\r\n\tconsole.log('Rendering Application...')\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h1>Phonebook</h1>\r\n\r\n\t\t\t<Notification notice={notification} />\r\n\r\n\t\t\t<Filter search={search} searchEventHandler={search_onChange} />\r\n\r\n\t\t\t<h3>Add a new</h3>\r\n\t\t\t<PersonForm newName={newName} newNumber={newNumber} addNameEventHandler={addName_onSubmit} newNameEventHandler={newName_onChange} newNumberEventHandler={newNumber_onChange} />\r\n\r\n\t\t\t<h3>Numbers</h3>\r\n\t\t\t<Persons persons={persons} search={search} deleteEventHandler={delete_onClick} />\r\n\t\t</>\r\n\t)\r\n\r\n}\r\n\r\n\r\n\r\nexport default App","/*\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#\n#  Created by Saleh Rahimzadeh                                                 #\n#  Copyright (C) 2019                                                          #\n#  https://saleh.sleek.page                                                    #\n#~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~#\n*/\n\nimport React    from 'react';\nimport ReactDOM from 'react-dom';\nimport App      from './App'\n\nimport './index.css'\n\n\n\nconsole.log('Part3: 20')\nconsole.log('Starting Application [' + (new Date()).toLocaleTimeString() + ']')\n\n\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}